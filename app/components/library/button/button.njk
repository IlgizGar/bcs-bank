{% import "../../../components/icon/icon.njk" as Icon %}
{% import "../../../components/inline-svg/inline-svg.njk" as Svg %}

{% macro button( options ) %}
    {% set tag = 'button' %}
    {% if options.href %}
        {% set tag = 'a' %}
    {% endif %}

    {% set mods = '' %}
    {% set class_sep = joiner(' ') %}
    {% set mods %}
        {% for key, value in options.mods -%}
            {{ class_sep() }} button_{{ key }}-{{ value }}
        {%- endfor %}
    {% endset %}

    <{{ tag }} class='button {{ mods }} {{ options.class }}' {% if options.href %} href={{ options.href }} {% endif %}>
        <span class='button__wrap'>
            {% if options.title %}
                <span class='button__title'>{{ options.title }}</span>
            {% endif %}
            {% if options.path  %}
                <span class='button__icon'>{{ Svg.inlineSvg({ 'path': options.path }) }}</span>
            {% elseif options.name %}
                <span class='button__icon'>{{ Icon.icon({ 'name': options.name }) }}</span>
            {% endif %}
        </span>
    </{{ tag }}>

{% endmacro %}