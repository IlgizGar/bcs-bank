{% import "../../../components/icon/icon.njk" as Icon %}
{% import "../../../components/inline-svg/inline-svg.njk" as inlineSvg %}
{% import "../../../components/library/button/button.njk" as Button %}
{% import "../../../components/library/socials/socials.njk" as Socials %}
{% import "../../library/radio/radio.njk" as Radio %}

{% macro card( options ) %}
  {% set tag = 'h2' %}
  {% if options.tag %}
    {% set tag = options.tag %}
  {% endif %}

  <div class="card js-card card_type-{{ options.type }} {% if options.view %}card_view-{{ options.view }}{% endif %} {% if options.theme %}card_theme-{{ options.theme }}{% endif %} {{ options.class }}">
      <div class="card__wrap" data-href={{ options.href }}>

      <div class="card__content">

        <{{ tag }} class="card__title">{{ options.title }}</{{ tag }}>
        {% if options.subtitle %}
          <p class="card__subtitle {% if options.block %}mt-10{% endif %}">{{ options.subtitle }}</p>
        {% endif %}

        {% if options.block %}
          {% include "../../" + options.block + ".njk" %}
        {% else %}

          {% if options.type === 'figure' %}
            <img class="card__figure" src="{{ options.img }}" alt="{{ options.subtitle }}">
          {% endif %}

          {% if options.type === 'vacancy' %}
            <div class="section__text mt-40">
              <ul class="list">
                {% for item in options.items %}
                  <li>{{ item }}</li>
                {% endfor %}
              </ul>
            </div>
          {% endif %}
        {% endif %}

  </div>

  <div class="card__footer">

    {% if options.link %}
      <div class="card__button">
        {% if options.icon %}
          {{ inlineSvg.inlineSvg({ 'path': options.icon }) }}
        {% endif %}
        <span>{{ options.link }}</span>
        {{ Icon.icon({ 'name': 'arrow' }) }}
      </div>
    {% endif %}

  </div>
</div>

  {% if options.type === 'vacancy' %}
    {{ Button.button({ 'title': 'Откликнуться', 'mods': { 'theme': 'default' }, 'class': 'card__button card__button_type-respond' }) }}
    {{ Button.button({ 'href': '#', 'title': 'Узнать больше', 'mods': { 'theme': 'default', 'view': 'text' }, 'class': 'card__button card__button_type-more' }) }}
    {{ Socials.socials({ 'mods': {'type': 'icon', 'theme': 'gray', 'view': 'outlined'}, 'class': 'card__button' }) }}
  {% endif %}
  </div>
{% endmacro %}
