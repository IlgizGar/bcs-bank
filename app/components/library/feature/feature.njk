{% import "../../../components/icon/icon.njk" as Icon %}

{% macro feature( options ) %}
  {% set class_sep = joiner(' ') %}
  {% if options.mods %}
    {% set mods = '' %}
    {% set mods %}
      {% for key, value in options.mods -%}
        {{ class_sep() }} feature_{{ key }}-{{ value }}
      {%- endfor %}
    {% endset %}
  {% endif %}

  <div class="feature {{ mods | safe }} {{ options.class }} js-scroll-animate">
    {% if options.iconPath %}
      <div class="feature__icon">
        <img src="{{ options.iconPath }}">
      </div>
    {% endif %}
    <div class="feature__content">
      <span class="feature__title">{{ options.title | striptags(true) | escape | nl2br | replace("#ruble", Icon.icon({ 'name': 'ruble' })) | replace("#euro", Icon.icon({ 'name': 'euro' })) | replace("#pound", Icon.icon({ 'name': 'pound' })) | replace("#dollar", Icon.icon({ 'name': 'baks' })) | safe }}</span>
      <span class="feature__text">{{ options.text | striptags(true) | escape | nl2br | replace("#ruble", Icon.icon({ 'name': 'ruble' })) | replace("#euro", Icon.icon({ 'name': 'euro' })) | replace("#pound", Icon.icon({ 'name': 'pound' })) | replace("#dollar", Icon.icon({ 'name': 'baks' })) | safe }}</span>
    </div>
  </div>
{% endmacro %}

