{% import "../context/context.njk" as Context %}

{% macro heading( options ) %}
    {% set tag = 'h2' %}
    {% if options.tag %}
        {% set tag = options.tag %}
    {% endif %}

    <{{ tag }} class="heading heading_type-{{ options.type }} heading_margin-top-{{ options.marginTop }} heading_margin-{{ options.margin }} heading_theme-{{ options.theme }} {{ options.class }}">
        <span>{{ options.title }}</span>
        {% if options.context %}

          {#{% set context_options = [] %}#}
          {% set class_sep = joiner(', ') %}
          {% set context_options %}
            {% for key, value in options.context -%}
              {{ class_sep() }} '{{ key }}': '{{ value }}'
            {%- endfor %}
          {% endset %}

          {{ Context.context({ 'data': options.context }) }}
        {% endif %}
    </{{ tag }}>
{% endmacro %}
