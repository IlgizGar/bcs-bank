{% import "../../../components/icon/icon.njk" as Icon %}

{% macro context( options ) %}
  {% if options.data %}
    {% set options = options.data %}
  {% endif %}
  <div class="context js-context {% if options.theme %}context_theme-{{ options.theme }}{%  endif %} {{ options.class }}" {% if options.prefix %}data-prefix="{{ options.prefix }}"{% endif %} {% if options.id %}data-id="{{ options.id }}"{% endif %}>
    {% if options.items %}
      <select class="context__select" hidden name="{{ options.name }}_select">
        {% for item in options.items %}
          <option value={{ item.val }} {% if item.selected %}selected{% endif %}>{{ item.title }}</option>
        {% endfor %}
      </select>
    {% else %}
      <input type="text" hidden name="{{ options.name }}_input" value="{{ options.title }}">
    {% endif %}
    <button class="context__button">
        <span class="js-context-title">{%  if options.title %}{{ options.title }}{% endif %}</span>
        {{ Icon.icon({'name': 'dropdown'}) }}
    </button>
  </div>
  {#{% if options.block %}#}
    {#{% include "../../" + options.block + ".njk" %}#}
  {#{% endif %}#}
{% endmacro %}
