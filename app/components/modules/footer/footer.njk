{% import "../../../components/library/button/button.njk" as Button %}
{% import "../../../components/inline-svg/inline-svg.njk" as Svg %}
{% import "../../../components/library/socials/socials.njk" as Socials %}
{% import "../../../components/library/heading/heading.njk" as Heading %}
{% import "../../../components/library/input/input.njk" as Input %}
{% import "../../../components/library/dropdown/dropdown.njk" as Dropdown %}




{% set menu = [
  {'title': 'О банке',
    'items': ['Новости', 'Общая информация', 'Руководство', 'Вакансии', 'Офисы и банкоматы', 'Вся группа']},
  {'title': 'Реквизиты',
    'items': ['Cтрахованиe вкладов', 'Лицензии', 'БКС Онлайн', 'Депозитарий']},
  {'title': 'Инсайдерам',
    'items': ['Раскрытие информации', 'Документы', 'Финансовым институтам']}
] %}

<footer class="footer">
  <div class="page__container">
    <div class="footer__wrap">
      <div class="footer__logo">
        {{ Svg.inlineSvg({ 'path': 'assets/images/svg/logo-dark.svg' }) }}
      </div>
      {% for item in menu %}
        <div class="footer__menu">
          <p class="footer__menu-title">{{ item.title }}</p>
          {% for el in item.items %}
            {% set els = el %}
            {{ Button.button({ 'href': '#', 'title': el, 'mods': {'type': 'link', 'theme': 'gray', 'view': 'text'}, 'class': 'footer__menu-link' }) }}
          {% endfor %}
        </div>
      {% endfor %}
      <div class="footer__info">
        <p class="footer__info-phone">8 800 500 7065</p>
        <p class="footer__info-inform">Бесплатный звонок по России</p>
        {{ Button.button({ 'title': 'Задать вопрос', 'href': '#question-modal-form', 'mods': {'theme': 'default'}, 'class': 'js-open-modal'  }) }}
      </div>
      <div class="footer__credentials">
        {{ Button.button({ 'href': '#', 'title': 'Информация о максимальных процентных ставках по вкладам физических лиц', 'mods': {'type': 'link', 'theme': 'gray', 'view': 'text'}, 'class': 'footer__credentials-link' }) }}
        <p>Финансовая Группа БКС</p>
        <p>© 1989–2018, АО «БКС Банк», официальный сайт, генеральная лицензия на осуществление банковских операций №101
          от 15.12.2014.</p>
      </div>
      <div class="footer__socials">
        {{ Socials.socials({ 'mods': {'type': 'icon', 'theme': 'gray', 'view': 'outlined'} }) }}
      </div>
    </div>
  </div>
</footer>

{# TODO: Вынести в шаблон #}
<div id="question-modal-form" class="modal js-form">
  <form id="question-form" action="/" class="form question-form">
    {{ Heading.heading({ 'title': 'У вас есть вопрос?' | striptags(true) | escape | nl2br, 'type': 'default', 'margin': 'none', 'theme': 'default', 'class': 'form__title'}) }}
    {{ Input.input({ 'label': 'ФИО', 'class': 'form__field-group', 'field': 'js-fio-masked', 'name': 'queston_name', 'state': 'required' }) }}
    <div class="form__line-group">
      {{ Input.input({ 'label': 'Мобильный телефон', 'class': 'form__field-group', 'field': 'js-phone-masked', 'name': 'question_phone', 'state': 'required' }) }}
      {{ Input.input({ 'label': 'Электронная почта', 'class': 'form__field-group', 'field': 'js-mail-masked', 'name': 'question_mail', 'state': 'required' }) }}
    </div>
    {{ Dropdown.dropdown({ 'theme': 'bordered', 'label': 'Тема', 'items': [{'title': 'Предложения по сайту', 'val': '0'},{'title': 'Интернет-банк', 'val': '1'}], 'class': 'form__field-group form__field-group_dropdown' }) }}
    {{ Input.input({ 'label': 'Текст вопроса', 'tag': 'textarea', 'rows': '6', 'class': 'input_textarea form__field-group', 'state': 'required', 'name': 'question_text' }) }}
    <div class="form__action">
      <div class="form__agreements">
        {# TODO: вынести в шаблон #}
        <label class="checkbox checkbox_theme-dark">
          <input type="checkbox" class="checkbox__control" name="question__personal" required="required">
          <span class="checkbox__state"></span>
          <span class="checkbox__label">
            Даю согласие на обработку
            {{ Button.button({ 'href': '#', 'title': 'персональных данных', 'mods': { 'type': 'link', 'theme': 'default', 'view': 'text' } }) }}
          </span>
        </label>
      </div>
      {{ Button.button({ 'title': 'Отправить', 'type': 'submit', 'mods': {'theme': 'default'}, 'class': 'form__submit-button' }) }}
    </div>

  </form>
</div>
